HR_agent/
├── config/
│   └── settings.py ........................ Pydantic BaseSettings configuration
│
└── src/
    └── core/
        ├── __init__.py .................... Core module initialization
        ├── database.py .................... SQLAlchemy ORM models & database setup
        │                                    - Base & TimestampMixin classes
        │                                    - Employee model
        │                                    - AuthSession model
        │                                    - AuditLog model
        │                                    - Conversation model
        │                                    - ConversationMessage model
        │                                    - Connection pooling & health checks
        │
        ├── cache.py ....................... Redis caching with graceful fallback
        │                                    - CacheManager class
        │                                    - Session store methods
        │                                    - Rate limiter
        │                                    - HRIS cache
        │                                    - Response cache
        │
        └── logging_config.py .............. Structured JSON logging
                                             - CorrelationIdFilter
                                             - JSONFormatter
                                             - RequestLogger (Flask middleware)
                                             - log_performance context manager

KEY FEATURES:
=============

DATABASE (src/core/database.py)
- Async-ready SQLAlchemy 2.0+ with connection pooling
- 5 well-designed ORM models with relationships
- TimestampMixin for automatic audit timestamps
- Support for SQLite, PostgreSQL, MySQL
- Pool size: 20, max overflow: 40
- Pre-ping enabled for stale connection handling

CACHE (src/core/cache.py)
- Redis integration with graceful fallback
- 15+ methods across 4 domains:
  * Basic: get, set, delete, exists, get_or_set
  * Sessions: store, retrieve, invalidate (24h default)
  * Rate limiting: check_rate_limit (returns remaining count)
  * HRIS cache: 5-minute TTL for employee data
  * Response cache: role-based caching with hash keys

LOGGING (src/core/logging_config.py)
- Structured JSON logging throughout
- Correlation ID tracking for request tracing
- Request logger with Flask middleware support
- Performance measurement with context manager
- Handles exceptions and extra fields (user_id, request_id)

SETTINGS (config/settings.py)
- 30+ configuration parameters
- Environment variable loading with .env support
- Type hints for all settings
- Production-safe CORS handling
- Automatic async database URL conversion
- Singleton pattern prevents multiple instantiations

PRODUCTION QUALITY:
===================
✓ 100% type hints (PEP 484)
✓ Google-style docstrings on all classes/methods
✓ Error handling & graceful degradation
✓ Connection pooling & health checks
✓ JSON structured logging
✓ Security-aware configuration
✓ Async/await support
✓ Comprehensive example usage
✓ All files syntax-validated

TOTAL LINES OF CODE: 1,080
CREATED: 2026-02-06
