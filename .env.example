# ============================================================================
# HR Multi-Agent Platform - Environment Configuration Template
# Copy this file to .env and fill in actual values for your environment
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database connection URL (SQLite for dev, PostgreSQL for production)
# Examples:
#   SQLite: sqlite:///hr_platform.db
#   PostgreSQL: postgresql://user:password@localhost:5432/hr_platform
DATABASE_URL=postgresql://hr_user:hr_password@postgres:5432/hr_platform

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Redis connection URL for caching and session management
# Used for distributed caching, rate limiting, and session storage
REDIS_URL=redis://redis:6379/0

# ============================================================================
# SECURITY & JWT
# ============================================================================

# Secret key for signing JWT tokens - MUST be changed in production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your-secret-key-change-in-production

# JWT signing algorithm (recommended: HS256)
JWT_ALGORITHM=HS256

# JWT token expiration time in hours
JWT_EXPIRATION_HOURS=24

# ============================================================================
# LLM API KEYS (OpenAI is primary, Gemini is fallback)
# ============================================================================

# OpenAI API key — PRIMARY LLM provider
# Required for GPT-4 and GPT-3.5-turbo models
# Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key

# Google API key — FALLBACK LLM provider (optional)
# Also used for Google Search integration
# Get at: https://console.cloud.google.com
GOOGLE_API_KEY=your-google-api-key

# Google Custom Search API key (optional - only if using Google Search)
GOOGLE_SEARCH_API_KEY=your-google-search-api-key

# Google Custom Search Engine ID (optional - only if using Google Search)
GOOGLE_SEARCH_ENGINE_ID=your-custom-search-engine-id

# ============================================================================
# LANGSMITH TRACING (optional — for monitoring LangGraph agent runs)
# ============================================================================

# Enable LangSmith tracing (set to true to activate monitoring)
# Useful for debugging agent behavior and performance analysis
LANGCHAIN_TRACING_V2=false

# LangSmith API key (required if LANGCHAIN_TRACING_V2=true)
# Get yours at: https://smith.langchain.com
LANGCHAIN_API_KEY=

# LangSmith project name for organization
LANGCHAIN_PROJECT=hr-multi-agent

# ============================================================================
# HRIS INTEGRATION
# ============================================================================

# HRIS provider type: bamboohr, workday, or custom_db
HRIS_PROVIDER=custom_db

# BambooHR API key (required for BambooHR HRIS_PROVIDER and BambooHR MCP tools)
# Generate at: BambooHR > Account > API Keys
BAMBOOHR_API_KEY=your-bamboohr-api-key

# BambooHR subdomain (required for BambooHR integration)
# Example: if your URL is mycompany.bamboohr.com, use "mycompany"
# Used by both the HRIS connector and the BambooHR MCP server
BAMBOOHR_SUBDOMAIN=your-company-subdomain

# Workday OAuth credentials (if using Workday as HRIS_PROVIDER)
WORKDAY_CLIENT_ID=your-workday-client-id
WORKDAY_CLIENT_SECRET=your-workday-client-secret
# Example: https://impl.workday.com/your_tenant
WORKDAY_TENANT_URL=your-workday-tenant-url

# ============================================================================
# LLM CONFIGURATION
# ============================================================================

# Default LLM model for primary agent reasoning
# Options: gpt-4, gpt-4-turbo, gpt-3.5-turbo
LLM_DEFAULT_MODEL=gpt-4

# Premium/high-quality LLM model for complex reasoning
LLM_PREMIUM_MODEL=gpt-4

# Fast/lightweight LLM model for simple tasks and drafts
LLM_FAST_MODEL=gpt-3.5-turbo

# Fallback LLM model (used if primary is unavailable)
LLM_FALLBACK_MODEL=gpt-3.5-turbo

# LLM temperature for response creativity (0.0 - 1.0)
# 0.0 = deterministic/factual, 1.0 = creative/varied
LLM_TEMPERATURE=0.1

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Debug mode (true for development, false for production)
# Enables hot reload, detailed error messages, and extra logging
DEBUG=false

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file location (relative to app root)
LOG_FILE=./logs/hr_agent.log

# Server port
PORT=5050

# Server host (0.0.0.0 for Docker, 127.0.0.1 for localhost)
HOST=0.0.0.0

# Allowed CORS origins (comma-separated or * for all origins)
# Examples: http://localhost:3000,http://localhost:5050 or *
CORS_ORIGINS=http://localhost:3000,http://localhost:5050

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================

# Maximum iterations for agent loops (prevent infinite loops)
AGENT_MAX_ITERATIONS=5

# Confidence threshold for agent responses (0.0 - 1.0)
# Agent must be at least this confident to proceed with actions
CONFIDENCE_THRESHOLD=0.7

# Maximum iterations for agentic workflows
MAX_ITERATIONS=5

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable PII (Personally Identifiable Information) detection and masking
# Recommended: true for compliance (GDPR, HIPAA, etc.)
PII_ENABLED=true

# Enable bias audit logging and detection
# Tracks potential biases in HR decisions
BIAS_AUDIT_ENABLED=true

# Enable document generation features (offer letters, reviews, etc.)
DOCUMENT_GENERATION_ENABLED=true

# ============================================================================
# RATE LIMITING
# ============================================================================

# API rate limit per user per minute
# 60 = 1 request per second, 0 = unlimited
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# DATA & PERSISTENCE
# ============================================================================

# ChromaDB persistence directory for vector embeddings
# Used for semantic search in documents and policies
CHROMA_PERSIST_DIR=./data/chroma_db

# Directory for storing policy documents (read-only)
POLICY_DOCUMENTS_DIR=./data/policies

# Directory for storing generated documents (e.g., offer letters)
GENERATED_DOCUMENTS_DIR=./data/documents

# ============================================================================
# PAGINATION
# ============================================================================

# Default page size for list endpoints
DEFAULT_PAGE_SIZE=10

# Maximum allowed page size
MAX_PAGE_SIZE=100

# ============================================================================
# SSL/TLS
# ============================================================================

# Verify SSL certificates (false for self-signed in dev, true for prod)
SSL_VERIFY=false

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=60

# ============================================================================
# WORKERS & TIMEOUTS
# ============================================================================

# Number of Gunicorn workers (1 for dev, multiple for production)
WORKERS=4

# Request timeout in seconds
TIMEOUT=120

# ============================================================================
# ENVIRONMENT
# ============================================================================

# Environment type: development, staging, or production
# Controls behavior, logging, and defaults
ENVIRONMENT=development

# Application version (semantic versioning)
APP_VERSION=1.0.0
